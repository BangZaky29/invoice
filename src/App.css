/* ========================================
   GENERATOR INVOICE - STYLESHEET
   ======================================== */

.app-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--gradient-secondary);
}

.container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 1rem;
}

/* === MAIN CONTENT === */
.main-content {
  padding: 2rem 0;
  flex: 1;
}

.content-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

@media (min-width: 1024px) {
  .content-grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* === FORM SECTIONS === */
.form-column {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.form-section {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  overflow: hidden;
  border: 2px solid var(--blue-200);
  transition: all var(--transition-base);
}

.form-section:hover {
  box-shadow: var(--shadow-xl);
  transform: translateY(-2px);
  border-color: var(--blue-300);
}

.section-header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.25rem;
  background: var(--gradient-primary);
  border: none;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: 'Space Grotesk', sans-serif;
}

.section-header:hover {
  opacity: 0.9;
}

.section-header-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.logo-image {
  height: 100px;
  width: auto;
  border-radius: 8px;
}

.section-header h2 {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--gray-800);
}

.section-body {
  padding: 1.25rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  animation: fadeIn var(--transition-base) ease-in-out;
}

/* === FORM ELEMENTS === */
.form-group {
  display: flex;
  flex-direction: column;
}

.form-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 0.5rem;
}

.form-input,
.form-select,
.form-textarea {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid var(--gray-200);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  font-family: 'Inter', sans-serif;
  transition: all var(--transition-fast);
  background: white;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: var(--blue-400);
  box-shadow: 0 0 0 3px var(--blue-100);
}

.form-input::placeholder,
.form-textarea::placeholder {
  color: var(--gray-400);
}

.form-textarea {
  resize: vertical;
  min-height: 100px;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 640px) {
  .form-row {
    grid-template-columns: 1fr 1fr;
  }
}

.form-row-3 {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem;
}

@media (min-width: 768px) {
  .form-row-3 {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* === LOGO UPLOAD === */
.logo-upload-container {
  border: 2px dashed var(--blue-300);
  border-radius: var(--radius-lg);
  padding: 2rem;
  text-align: center;
  background: var(--blue-50);
  cursor: pointer;
  transition: all var(--transition-base);
}

.logo-upload-container:hover {
  border-color: var(--blue-500);
  background: var(--blue-100);
}

.logo-preview {
  max-width: 150px;
  max-height: 80px;
  margin: 0 auto;
  display: block;
  object-fit: contain;
}

/* === BUTTONS === */
.btn-primary {
  width: 100%;
  background: var(--gradient-primary);
  color: white;
  font-weight: 600;
  padding: 0.875rem 1.5rem;
  border-radius: var(--radius-md);
  border: none;
  box-shadow: var(--shadow-md);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  transition: all var(--transition-base);
  font-family: 'Space Grotesk', sans-serif;
  font-size: 1rem;
}

.btn-primary:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-add {
  width: 100%;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  font-weight: 600;
  padding: 0.75rem 1rem;
  border-radius: var(--radius-md);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  transition: all var(--transition-base);
  font-size: 0.9rem;
  margin-top: 0.75rem;
}

.btn-add:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.btn-remove {
  background: #ef4444;
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  padding: 0.5rem 0.875rem;
  cursor: pointer;
  font-size: 0.875rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: all var(--transition-fast);
  font-weight: 500;
}

.btn-remove:hover {
  background: #dc2626;
  transform: scale(1.05);
}

/* === PREVIEW CONTAINER === */
.preview-container {
  background: white;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  padding: 1.5rem;
  border: 2px solid var(--purple-200);
  max-height: 85vh;
  overflow-y: auto;
}

.preview-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--blue-200);
}

.preview-header h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--gray-800);
}

.preview-badge {
  background: var(--gradient-primary);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-xl);
}

.preview-badge span {
  font-size: 0.875rem;
  font-weight: 600;
  color: white;
}

/* === PREVIEW CONTENT / INVOICE === */
.preview-content {
  background: white;
  padding: 25mm 20mm;
  width: 210mm;
  min-height: 297mm;
  margin: 0 auto;
  font-family: 'Inter', Arial, sans-serif;
  font-size: 10pt;
  line-height: 1.5;
  box-sizing: border-box;
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--gray-200);
  position: relative;
}

@media (max-width: 1400px) {
  .preview-content {
    transform: scale(0.8);
    transform-origin: top center;
  }
}

@media (max-width: 1024px) {
  .preview-content {
    transform: scale(0.65);
    transform-origin: top center;
  }
}

@media (max-width: 768px) {
  .preview-content {
    transform: scale(0.5);
    transform-origin: top center;
  }
}

/* === INVOICE STYLES === */
.invoice-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 20pt;
  padding-bottom: 15pt;
  border-bottom: 2px solid var(--gray-300);
  margin-top: -5rem;
}

.company-section {
  display: flex;
  align-items: center;
  gap: 15pt;
}

.company-logo {
  width: 60pt;
  height: 60pt;
  object-fit: contain;
}

.company-info h2 {
  font-size: 16pt;
  font-weight: 700;
  margin-bottom: 4pt;
  color: var(--blue-700);
}

.company-info p {
  font-size: 9pt;
  color: var(--gray-600);
  margin: 2pt 0;
}

.invoice-title-section {
  text-align: right;
}

.invoice-title {
  font-size: 28pt;
  font-weight: 700;
  color: var(--blue-700);
  margin-bottom: 8pt;
}

.invoice-meta {
  font-size: 9pt;
  color: var(--gray-600);
}

.invoice-meta p {
  margin: 3pt 0;
}

.invoice-meta strong {
  color: var(--gray-800);
}

/* Info Perusahaan & Tagihan Untuk */
.invoice-parties {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30pt;
  margin-bottom: 25pt;
}

.party-section h3 {
  font-size: 11pt;
  font-weight: 700;
  color: var(--blue-700);
  margin-bottom: 8pt;
  text-transform: uppercase;
}

.party-section p {
  font-size: 9pt;
  color: var(--gray-700);
  margin: 3pt 0;
}

/* Invoice Table */
.invoice-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20pt 0;
  font-size: 9pt;
}

.invoice-table thead {
  background: var(--gradient-primary);
}

.invoice-table th {
  padding: 10pt 8pt;
  text-align: left;
  font-weight: 700;
  color: var(--gray-800);
  border: 1px solid var(--gray-300);
}

.invoice-table td {
  padding: 8pt;
  border: 1px solid var(--gray-300);
  color: var(--gray-700);
}

.invoice-table tbody tr:nth-child(even) {
  background: var(--gray-50);
}

.invoice-table .text-right {
  text-align: right;
}

.invoice-table .text-center {
  text-align: center;
}

/* Keterangan */
.invoice-notes {
  margin: 15pt 0;
  padding: 12pt;
  background: var(--blue-50);
  border-left: 4px solid var(--blue-500);
  border-radius: var(--radius-sm);
  text-align: left;
  overflow-wrap: break-word;
}

.invoice-notes h4 {
  font-size: 10pt;
  font-weight: 700;
  color: var(--blue-700);
  margin-bottom: 6pt;
  text-align: left;
}

.invoice-notes p {
  font-size: 9pt;
  color: var(--gray-700);
  line-height: 1.6;
  text-align: left;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  orphans: 2;
  widows: 2;
}

/* Summary Section */
.invoice-summary {
  display: flex;
  justify-content: flex-end;
  margin: 25pt 0;
}

.summary-table {
  width: 50%;
  font-size: 9pt;
}

.summary-table tr {
  border-bottom: 1px solid var(--gray-200);
}

.summary-table td {
  padding: 8pt 10pt;
}

.summary-table td:first-child {
  font-weight: 600;
  color: var(--gray-700);
}

.summary-table td:last-child {
  text-align: right;
  color: var(--gray-800);
}

.summary-table .total-row {
  background: var(--gradient-primary);
  font-weight: 700;
  font-size: 11pt;
}

.summary-table .total-row td {
  border-top: 2px solid var(--blue-500);
  padding: 12pt 10pt;
}

/* Syarat & Ketentuan */
.invoice-terms {
  margin: 20pt 0;
  padding: 15pt;
  background: var(--purple-50);
  border-radius: var(--radius-md);
  text-align: left;
  overflow-wrap: break-word;
}

.invoice-terms h4 {
  font-size: 10pt;
  font-weight: 700;
  color: var(--purple-700);
  margin-bottom: 8pt;
  text-align: left;
}

.invoice-terms p {
  font-size: 8pt;
  color: var(--gray-600);
  line-height: 1.6;
  margin: 4pt 0;
  text-align: left;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  orphans: 2;
  widows: 2;
}

/* Down Payment */
.invoice-payment {
  margin: 20pt 0;
  padding: 12pt;
  background: var(--blue-50);
  border: 1px solid var(--blue-300);
  border-radius: var(--radius-md);
}

.invoice-payment h4 {
  font-size: 10pt;
  font-weight: 700;
  color: var(--blue-700);
  margin-bottom: 8pt;
}

.invoice-payment p {
  font-size: 9pt;
  color: var(--gray-700);
  margin: 4pt 0;
}

/* Signature Section */
.invoice-signature {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-top: 40pt;
  padding-top: 20pt;
  border-top: 1px solid var(--gray-300);
}

.signature-date {
  font-size: 9pt;
  color: var(--gray-700);
  text-align: center;
}

.signature-box {
  text-align: center;
  min-width: 150pt;
}

.signature-box p {
  font-size: 9pt;
  color: var(--gray-700);
  margin-bottom: 50pt;
}

.signature-box .signature-line {
  border-top: 2px solid var(--gray-800);
  padding-top: 8pt;
  font-weight: 700;
  color: var(--gray-800);
  font-size: 10pt;
}

/* Invoice Footer */
.invoice-footer {
  margin-top: 30pt;
  padding-top: 15pt;
  border-top: 2px solid var(--blue-300);
  text-align: center;
}

.invoice-footer p {
  font-size: 10pt;
  font-weight: 600;
  color: var(--blue-700);
}

/* === PRINT STYLES === */
@media print {
  body {
    background: white;
    margin: 0;
    padding: 0;
  }
  
  .no-print {
    display: none !important;
  }
  
  .print-overlay {
    position: static !important;
    overflow: visible !important;
    background: transparent !important;
    z-index: auto !important;
  }
  
  .preview-container {
    box-shadow: none !important;
    border: none !important;
    padding: 0 !important;
    max-height: none !important;
    overflow: visible !important;
  }

  .preview-header {
    display: none !important;
  }
  
  .preview-content {
    box-shadow: none !important;
    border: none;
    padding: 25mm 20mm;
    margin: 0 !important;
    width: 100% !important;
    max-width: 210mm;
    min-height: 297mm;
    transform: none !important;
    page-break-after: auto;
  }

  .invoice-table {
    page-break-inside: avoid;
  }
  
  .invoice-notes,
  .invoice-terms,
  .invoice-summary,
  .invoice-payment,
  .invoice-signature,
  .invoice-footer,
  .invoice-parties {
    break-inside: avoid-page;
    page-break-inside: avoid;
  }

  @page {
    size: A4;
    margin: 0;
  }
  
  .print-page {
    width: 210mm;
    min-height: 297mm;
    padding: 20mm;
    margin: 0 auto;
    page-break-after: always;
    box-sizing: border-box;
  }
  
  .print-page:last-child {
    page-break-after: auto;
  }
}

/* === PRINT PREVIEW PAGE (SCREEN) === */
.print-page {
  width: 210mm;
  min-height: 297mm;
  padding: 20mm;
  background: white;
  border: 1px solid var(--gray-200);
  box-shadow: var(--shadow-lg);
  box-sizing: border-box;
}

/* Visual guides for page boundaries in web preview */
.preview-content.preview-guided {
  background:
    linear-gradient(white, white),
    repeating-linear-gradient(
      to bottom,
      transparent,
      transparent calc(297mm - 1px),
      rgba(0,0,0,0.08) calc(297mm - 1px),
      transparent 297mm
    );
  background-clip: padding-box, border-box;
}

/* === ANIMATIONS === */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* === SCROLLBAR === */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--gray-100);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb {
  background: var(--blue-400);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--blue-500);
}

/* === PRODUCT CARD === */
.product-card {
  border: 2px solid var(--blue-200);
  border-radius: var(--radius-md);
  padding: 1rem;
  margin-bottom: 1rem;
  background: var(--blue-50);
  transition: all var(--transition-fast);
}

.product-card:hover {
  border-color: var(--blue-300);
  box-shadow: var(--shadow-md);
}

.product-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.product-card-header strong {
  color: var(--blue-700);
  font-size: 1rem;
}

/* === PAGE INDICATOR === */
.page-indicator {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

.page-indicator button {
  padding: 0.5rem 1rem;
  border: 2px solid var(--blue-300);
  background: white;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-weight: 600;
  color: var(--blue-700);
  transition: all var(--transition-fast);
}

.page-indicator button.active {
  background: var(--gradient-primary);
  color: white;
  border-color: var(--blue-500);
}

.page-indicator button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
  .invoice-header {
    flex-direction: column;
    gap: 20pt;
  }
  
  .invoice-title-section {
    text-align: left;
  }
  
  .invoice-parties {
    grid-template-columns: 1fr;
    gap: 20pt;
  }
  
  .summary-table {
    width: 100%;
  }
}

/* Signature Wrapper */
.signature-wrapper {
  width: 100%;
}

.signature-canvas {
  width: 100% !important;
  height: 200px !important;
  border: 1.5px dashed #b4c6ff;
  border-radius: 8px;
  background: #fafbff;
  cursor: crosshair;
}

.signature-actions {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

/* Invoice Footer Signature */
.invoice-signature {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-top: 2rem;
  page-break-inside: avoid;
}

.signature-date {
  flex: 1;
}

.signature-box {
  flex: 1;
  text-align: center;
  position: relative;
  min-height: 150px;
}

.signature-role {
  font-weight: 600;
  text-transform: uppercase;
  margin-bottom: 12px;
  font-size: 0.95rem;
}

.signature-media {
  position: relative;
  height: 100px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.signature-ttd {
  max-height: 80px;
  max-width: 200px;
  position: absolute;
  z-index: 2;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  object-fit: contain;
}

.signature-stamp {
  max-height: 100px;
  max-width: 100px;
  opacity: 0.35;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 1;
  object-fit: contain;
}

.signature-line {
  margin: 8px auto;
  font-size: 1.2rem;
  letter-spacing: 2px;
  color: #333;
}

.signature-name {
  margin-top: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  color: #111;
}

/* Print Specific */
@media print {
  .invoice-signature {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  .signature-box {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  .signature-media {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  .signature-ttd,
  .signature-stamp {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}